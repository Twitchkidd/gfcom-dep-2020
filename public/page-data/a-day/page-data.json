{"componentChunkName":"component---src-templates-blog-post-js","path":"/a-day/","result":{"data":{"site":{"siteMetadata":{"title":"Gareth Field ... Dot Com!","author":{"name":"Gareth Field","summary":"a trail runner, developer, coffee lover, and dog dad based out of beautiful downtown New London, Connecticut!"},"socials":[{"handle":"barefootgareth","name":"Twitter"}]}},"markdownRemark":{"id":"dfd62a64-6a44-5a45-988b-8de2659e5756","excerpt":"AHH!!! Okay, shake it out, code it out, code it up, let’s do it up! I’ve got this phone call at 1 o’clock today and the anticipation is tangible! I’m going to…","html":"<p>AHH!!! Okay, shake it out, code it out, code it up, let’s do it up!</p>\n<p>I’ve got this phone call at 1 o’clock today and the anticipation is tangible! I’m going to work on Logoed until then, and then I promised Dawa a bike ride! Hope for the best, prepare for the worst, if this goes well it could literally change my life, if it doesn’t, it needs to not be the end of the world. Inhale. Exhale. :)</p>\n<p>Where were we with Logoed? Just handled the new dependencies and imports, time to try and convert the Logoing screen to a functional component and get that information box to icon thing working, which is like 90% of the reason I’m working on this project again. Crazy how you can just wake up with your brain on fire sometimes!</p>\n<p>Oh, wait, navigation first. I guess I don’t really need to be using context there, but I’ll want that wired up when actual user data happens, maybe I’ll just leave it, though the ProfileCreation and Logoing stacks can get combined. // Oh maybe <em>not</em> though, I can’t see where to conditionally pass in an initialRoute … I guess if the ProfileCreation screen rendered null until it checked for the piece of context … You know, let me see if it checks the parent navigator for a screen named BusinessSelection, I imagine that’s a better way of doing this … Nnnope, not BusinessSelection … Oh, lol, doesn’t have to navigate at all, it needs to set the context, herp derp … which … is not conditionally rendering the Logoing stack … maybe it’s part of the root stack though? Weird! Only the other screen that wasn’t part of that block is accessible! Oh, whoa, pop isn’t working either. Wait but if I set a useContext to be fired by instagramHandle[0], RootStack rerenders? I’ve got to restart the packager and reinstall the app to make sure that’s not a bug. Nope, it was a bug, lol, it’s definitely calling that function, but not rerendering … Oh whhhyyy, okay, let me try and change this … I’m changing the useState function, the setState in useEffect, the value passed to the Provider, which is where I think it might break, and I’ll try passing the whole array if it does … and the condition in the return statement … oh wait, I’m <em>not</em> going to change the value passed to the provider.</p>\n<p>Oh, yea, no, it did not like that. Oh boy … Okay, so</p>\n<h2>Context and Conditional Rendering</h2>\n<p>This works, I’m not super sure why:</p>\n<h3>ProfileCreationContext</h3>\n<p><code class=\"language-text\">import { createContext } from &#39;react&#39;;</code>\n<code class=\"language-text\">export const ProfileCreationContext = createContext(null);</code></p>\n<h3>Navigation</h3>\n<p><code class=\"language-text\">import { ProfileCreationContext } from &#39;../contexts&#39;;</code>\n<code class=\"language-text\">const RootStack = createStackNavigator();</code>\n<code class=\"language-text\">const RootStackScreen = () =&gt; {</code>\n<code class=\"language-text\">const instagramHandle = useState(null);</code>\n<code class=\"language-text\">useEffect(() =&gt; {</code>\n<code class=\"language-text\">instagramHandle[1](instagramHandle[0]);</code>\n<code class=\"language-text\">}, [instagramHandle[0]]);</code>\n<code class=\"language-text\">return (</code>\n<code class=\"language-text\">&lt;ProfileCreationContext.Provider value={instagramHandle}&gt;</code>\n<code class=\"language-text\">&lt;RootStack.Navigator&gt;</code>\n<code class=\"language-text\">{</code>\n<code class=\"language-text\">instagramHandle[0] ? (</code>\n<code class=\"language-text\">&lt;RootStack.Screen name=&quot;LogoingStack&quot; component={LogoingStackScreen} /&gt;</code>\n<code class=\"language-text\">) : (</code>\n<code class=\"language-text\">&lt;RootStack.Screen name=&quot;ProfileCreationStack&quot; component={ProfileCreationStackScreen} /&gt;</code>\n<code class=\"language-text\">)</code>\n<code class=\"language-text\">}</code>\n<code class=\"language-text\">... ...</code>\n<code class=\"language-text\">)</code>\n<code class=\"language-text\">}</code></p>\n<h3>ProfileCreation</h3>\n<p><code class=\"language-text\">import { ProfileCreationContext } from &#39;../contexts&#39;;</code>\n<code class=\"language-text\">export const ProfileCreation = ({ navigation, route }) =&gt; {</code>\n<code class=\"language-text\">const [instagramHandle, setInstagramHandle] = useContext(ProfileCreationContext);</code>\n… Oh, wait, ProfileCreation doesn’t need that context any more …</p>\n<h3>Modal</h3>\n<p><code class=\"language-text\">import { ProfileCreationContext } from &#39;../contexts&#39;;</code>\n<code class=\"language-text\">export const Modal = ({ navigation, route }) =&gt; {</code>\n<code class=\"language-text\">const { type } = route.params;</code>\n<code class=\"language-text\">const [instagramHandle, setInstagramHandle] = useContext(ProfileCreationContext);</code>\n<code class=\"language-text\">return (</code>\n<code class=\"language-text\">&lt;TouchableOpacity onPress={() =&gt; setInstagramHandle(route.params.handle)}&gt;</code>\n<code class=\"language-text\">)</code>\n<code class=\"language-text\">}</code></p>\n<p>… putting whitespace in backticks in markdown gets formatted out on save … herp derp …</p>\n<p>WAIT NO IT DOESN’T WORK?!?! WHAAAT?!?!?! I swear, if removing the console.log broke it …</p>\n<p>Oooohkay, it’s a race condition between the parent rerendering the stack and the onPress function running. Maybe. Sometimes it works with a 35ms setTimeout, sometimes it doesn’t. 40ms is acceptable. Wtf though. Okay:</p>\n<h3>Modal</h3>\n<p><code class=\"language-text\">import { ProfileCreationContext } from &#39;../contexts&#39;;</code>\n<code class=\"language-text\">export const Modal = ({ navigation, route }) =&gt; {</code>\n<code class=\"language-text\">const { type } = route.params;</code>\n<code class=\"language-text\">const [instagramHandle, setInstagramHandle] = useContext(ProfileCreationContext);</code>\n<code class=\"language-text\">return (</code>\n<code class=\"language-text\">&lt;TouchableOpacity onPress={() =&gt; {</code>\n<code class=\"language-text\">setInstagramHandle(route.params.handle);</code>\n<code class=\"language-text\">setTimeout(() =&gt; {</code>\n<code class=\"language-text\">navigation.navigate({ name: &quot;LogoingStack&quot; });</code>\n<code class=\"language-text\">}, 40)</code>\n<code class=\"language-text\">}}&gt;</code>\n<code class=\"language-text\">)</code>\n<code class=\"language-text\">}</code></p>\n<p>Crazy. I feel like if I had more experience writing promise generators I’d do something with those here … or <em>something</em>, I don’t know … so hacky!! Anyway, <em>now</em> to tackle the Logoing screen … or walk Dawa again lol. // Well, <em>I</em> had a nice walk and a juggle … I took Dawa out, but it’s windy, so he was afraid and we went back in. Sigh. On to coding!</p>\n<p>Well, I’ve definitely grown as a developer, because there’s <em>no way</em> I would have written code like the old Logoing screen today. Whoa. Big oof. Pen and paper time for the layout. And another walk. //</p>\n<p>Amazing how much a walk can do. Before all the code had just kinda started to blend together, now I think I get the heirarchy, what needs to happen onSnapShot, and I’m going to just go with the React Native flex implementation with inline styles rather than try and figure out how to get the same effect with styled-components … for the moment. I’ve got an hour, it would be dope if I can get this working. //</p>\n<p>Well in epidsode three hundred and forty two of Gareth Is A Silly Goose, apparently Calendly sends Google Calendar invites with a Google Hangout link, so, lesson learned, and … call? rescheduled. I thought the email back with my phone number would have done it, but I bet that the person sending the Calendly invite was aware of how it worked and didn’t get any prompts to prompt <em>me</em> to check my Google Calendar invites. Or maybe I live under a rock. I’m back and forth between feeling like the embodiment of “Once Down Is No Battle,” and feeling really, really shitty, so I’m going to dive back into this React Native project so that it’s the RSOD telling me I’m shitty and not my own head. External forces are easier to deal with.</p>\n<p>Best wishes,\n~g</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n  }\n  \n  .grvsc-code {\n    display: inline-block;\n    min-width: 100%;\n  }\n  \n  .grvsc-line {\n    display: inline-block;\n    box-sizing: border-box;\n    width: 100%;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-line-highlighted {\n    background-color: var(--grvsc-line-highlighted-background-color, transparent);\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, transparent);\n  }\n  \n</style>","frontmatter":{"title":"A Day","date":"April 02, 2020","description":"In which Gareth has his fingers and toes crossed!"}},"avatar":{"childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAUCBP/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAHPRqeNNNR3TBKoH//EAB4QAAICAAcAAAAAAAAAAAAAAAECABIDEyEiMTJB/9oACAEBAAEFAtxFZSNxnMSBjEN09TRP/8QAFhEAAwAAAAAAAAAAAAAAAAAAABAR/9oACAEDAQE/ASv/xAAXEQADAQAAAAAAAAAAAAAAAAAAARAR/9oACAECAQE/ATEKf//EAB0QAAICAQUAAAAAAAAAAAAAAAABAiEQEUFhgaH/2gAIAQEABj8C0lD0s3GKLrkq+x4R/8QAHhABAAIBBAMAAAAAAAAAAAAAAQARIRAxQVFhcZH/2gAIAQEAAT8hu4wNujMi6t704gHn6m+eCFHRmz6hRIOzREp+GHB6uf/aAAwDAQACAAMAAAAQN/jC/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQAREP/aAAgBAwEBPxATG1PP/8QAGBEBAQADAAAAAAAAAAAAAAAAAQAQETH/2gAIAQIBAT8QTbg4m//EAB0QAQACAgIDAAAAAAAAAAAAAAEAESExQVFxobH/2gAIAQEAAT8QsDeVSlmyJDWEqhPrRsgQzseSHMpqNcy7RYcGZp4ECDXmKz7K9wgGkqEbK7L7Z//Z","width":50,"height":50,"src":"/static/59671f6cfe859bb1eddf927f56d7d289/99438/profile-pic.jpg","srcSet":"/static/59671f6cfe859bb1eddf927f56d7d289/99438/profile-pic.jpg 1x,\n/static/59671f6cfe859bb1eddf927f56d7d289/aba1d/profile-pic.jpg 1.5x,\n/static/59671f6cfe859bb1eddf927f56d7d289/b315d/profile-pic.jpg 2x"}}}},"pageContext":{"slug":"/a-day/","previous":{"fields":{"slug":"/z-day/"},"frontmatter":{"title":"Z-Day"}},"next":{"fields":{"slug":"/yet-another-day/"},"frontmatter":{"title":"Yet Another Day"}}}},"staticQueryHashes":["1903139753"]}